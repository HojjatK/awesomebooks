<app-form-bar menuText="Edit Book"></app-form-bar>
<img src="{{selectedImageUrl}}" *ngIf="selectedImageUrl != ''" class="responsive-image" height="150" />

<form [formGroup]="editBookForm" novalidate (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label>Title*</label>
    <input type="text"
           class="form-control"
           formControlName="name"
           placeholder="Book's title'">
  </div>

  <div class="form-group">
    <label>Area*</label>
    <mat-select placeholder="Area" class="form-control" [(ngModel)]="selectedAreaId" (ngModelChange)="categoryAreaChange()" formControlName="area">
      <mat-option *ngFor="let a of categoryAreas" [value]="a.id">{{a.name}}</mat-option>
    </mat-select>
  </div>

  <div class="form-group">
    <label>Category*</label>
    <mat-select placeholder="Category" class="form-control" [(ngModel)]="selectedCategoryId" formControlName="category">
      <mat-option *ngFor="let c of categories" [value]="c.id">{{c.name}}</mat-option>
    </mat-select>
  </div>

  <div class="form-group">
    <label>Year*</label>
    <input type="number"
           class="form-control"
           formControlName="year"
           placeholder="e.g 2017">
  </div>

  <div class="form-group">
    <label>Authors</label>
    <input type="text"
           class="form-control"
           formControlName="authors"
           placeholder="Authors separated by comma">
  </div>

  <div class="form-group">
    <label>Image Url</label>
    <input type="text"
           [(ngModel)]="selectedImageUrl"
           class="form-control"
           formControlName="imageUri"
           placeholder="Book's image url">
  </div>

  <div class="form-group">
    <label>Amazon Url</label>
    <input type="text"
           [(ngModel)]="selectedAmazonUrl"
           class="form-control"
           formControlName="amazonUri"
           placeholder="Book's Amazon url">
    <a href="{{selectedAmazonUrl}}" *ngIf="selectedAmazonUrl != ''" target="_blank">Check link</a>
  </div>

  <div class="form-group">
    <label>Download Url</label>
    <input type="text"
           class="form-control"
           formControlName="downloadUri"
           placeholder="Book's Download Url">
  </div>

  <div class="form-group">
    <label>Reflection</label>
    <textarea class="form-control"
              formControlName="reflection"
              placeholder="Your reflection about book">
    </textarea>
  </div>

  <div *ngIf="errorMessage != undefined && errorMessage != ''" class="alert alert-danger">
    {{errorMessage}}
  </div>

  <div class="form-group">
    <button type="submit" class="btn btn-primary">Submit</button>    
  </div>
</form>
